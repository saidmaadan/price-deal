{"version":3,"file":"static/webpack/static/development/pages/index.js.b1336c3bffb5c7561ef0.hot-update.js","sources":["webpack:///./components/Products.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport styled from 'styled-components';\nimport Pagination from './Pagination';\nimport Product from './Product';\nimport { perPage } from '../config';\n\n\nconst ALL_PRODUCTS_QUERY = gql`\n    query ALL_PRODUCTS_QUERY($skip: Int = 0, $first: Int = ${perPage}){\n        products(first: $first, skip: $skip, orderBy: createdAt_DESC){\n            id\n            title\n            description\n            image\n            largeImage\n            price\n        }\n    }\n`;\n\nconst Center = styled.div`\n  text-align: center;\n`;\n\nconst ProductsList = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 60px;\n  max-width: ${props => props.theme.maxWidth};\n  margin: 0 auto;\n`;\n\nclass Products extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<center>\n\t\t\t\t<Pagination page={this.props.page} />\n\t\t\t\t\t<Query \n\t\t\t\t\t\tquery={ALL_PRODUCTS_QUERY}\n\t\t\t\t\t\tfetchPolicy=\"network\"\n\t\t\t\t\t\tvariables={{\n\t\t\t\t\t\t\tskip: this.props.page * perPage - perPage,\n\t\t\t\t\t\t  }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({data, error, loading}) => {\n\t\t\t\t\t\t\tif(loading) return <p>Loading...</p>;\n\t\t\t\t\t\t\tif(error) return <p>Error: {error.message}</p>;\n\t\t\t\t\t\t\treturn <ProductsList>\n\t\t\t\t\t\t\t\t{data.products.map(product => <Product product={product} key={product.id} /> )}\n\t\t\t\t\t\t\t</ProductsList>;\n\t\t\t\t\t\t}}\n\t\t\t\t\t</Query>\n\t\t\t\t<Pagination page={this.props.page} />\n\t\t\t</center>\n\t\t)\n\t}\n}\nexport default Products;\nexport { ALL_PRODUCTS_QUERY };"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAaA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;AAAA;AACA;AAGA;;;;;;;;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AADA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAvBA;AACA;AAwBA;;;;;A","sourceRoot":""}